<div class="jumbotron">
    <h1 class="text-center">Listagem de Pessoas</h1>
</div>

<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <form (submit)="filtrar($event)" method="post">
                <div class="form-row">
                    <div class="form-group col-md-4">
                        <label for="nome">Nome</label>
                        <input
                        name="nome"
                        [(ngModel)] = "pesquisa.nome"
                        type="text" class="form-control" id="nome" placeholder="digite um nome para buscar">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="cpf">CPF</label>
                        <input
                        name="cpf"
                        [(ngModel)] = "pesquisa.cpf"
                        pattern="\d{3}\.\d{3}\.\d{3}-\d{2}"
                        maxlength="14"
                        (keypress)="formatarCpf($event)"
                        type="text" class="form-control" id="cpf" placeholder="digite o cpf sem pontos ou traço">
                    </div>
                    <div class="form-group-inline col-md-4">
                        <div class="col-sm-12">
                            <br/>
                            <button style="margin-top: 8px;" type="submit" class="btn btn-primary">Pesquisar</button>
                            <a style="margin-top: 8px;" [routerLink]="['/cadastro']" class="btn btn-success">Cadastrar</a>
                        </div>

                    </div>
                </div>
            </form>
        </div>
        <div class="col-sm-12">
            <table class="table">
                <thead>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>E-mail</th>
                    <th>CPF</th>
                    <th>Idade</th>
                    <th>Quantidade de Telefones</th>
                    <th>Ações</th>
                </thead>
                <tbody *ngFor='let pessoa of pessoas'>
                    <td>{{pessoa.id}}</td>
                    <td>{{pessoa.nome}}</td>
                    <td>{{pessoa.email}}</td>
                    <td>{{pessoa.cpf}}</td>
                    <td>{{pessoa.idade}} Anos</td>
                    <td>{{pessoa.telefones.length}}</td>
                    <td>
                        <a [routerLink]="['/cadastro', pessoa.id]" class="text-white btn btn-warning">Editar</a>
                        <button class="btn btn-danger" (click) = "remover(pessoa)">Deletar</button>
                    </td>
                </tbody>
                
            </table>
        </div>
    </div>
</div>